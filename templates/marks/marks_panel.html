{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid mt-4">

  <!-- CT Marks Panel -->
  <div class="card shadow mb-4">
    <div class="card-header py-3"><h6 class="m-0 font-weight-bold text-primary">CT Marks</h6></div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered datatable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Student Name</th>
              <th>Course</th>
              <th>Title</th>
              <th>Mark</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            {% for mark in ct_marks %}
              <tr>
                <td>{{ mark.student.student_id }}</td>
                <td>{{ mark.student.user.get_full_name }}</td>
                <td>{{ mark.course.course_code }}</td>
                <td>{{ mark.title }}</td>
                <td>{{ mark.mark }}</td>
                <td>{{ mark.date }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Assignment Marks Panel -->
  <div class="card shadow mb-4">
    <div class="card-header py-3"><h6 class="m-0 font-weight-bold text-success">Assignment Marks</h6></div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered datatable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Student Name</th>
              <th>Course</th>
              <th>Title</th>
              <th>Mark</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            {% for mark in assignment_marks %}
              <tr>
                <td>{{ mark.student.student_id }}</td>
                <td>{{ mark.student.user.get_full_name }}</td>
                <td>{{ mark.course.course_code }}</td>
                <td>{{ mark.title }}</td>
                <td>{{ mark.mark }}</td>
                <td>{{ mark.date }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Quiz Marks Panel -->
  <div class="card shadow mb-4">
    <div class="card-header py-3"><h6 class="m-0 font-weight-bold text-info">Quiz Marks</h6></div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered datatable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Student Name</th>
              <th>Course</th>
              <th>Title</th>
              <th>Mark</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            {% for mark in quiz_marks %}
              <tr>
                <td>{{ mark.student.student_id }}</td>
                <td>{{ mark.student.user.get_full_name }}</td>
                <td>{{ mark.course.course_code }}</td>
                <td>{{ mark.title }}</td>
                <td>{{ mark.mark }}</td>
                <td>{{ mark.date }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
{% endblock %}

{% block extra_js %}
<script>
  $(document).ready(function () {
    $('.datatable').DataTable({
      dom: 'lBfrtip',
      buttons: ['copy', 'csv', 'excel', 'pdf', 'print'],
      responsive: true
    });
  });
</script>
{% endblock %}
